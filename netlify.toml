# Netlify Configuration for Software Solutions Services
# =====================================================

[build]
  # No build command needed for static site
  publish = "."
  
  # Functions directory
  functions = "netlify/functions"

[functions]
  # Node.js version for serverless functions
  node_bundler = "esbuild"

# Headers for security
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"

# PayFast ITN endpoint
[[redirects]]
  from = "/api/payfast-itn"
  to = "/.netlify/functions/payfast-itn"
  status = 200

# =====================================================
# REQUIRED ENVIRONMENT VARIABLES
# =====================================================
# All environment variables must be set in the Netlify Dashboard.
# The application will throw runtime errors if any are missing.
# Do NOT set values here - this file must contain no secrets.
#
# PayFast Payment Gateway:
#   PAYFAST_MERCHANT_ID    - PayFast merchant ID (required)
#   PAYFAST_MERCHANT_KEY   - PayFast merchant key (required)  
#   PAYFAST_PASSPHRASE     - PayFast passphrase (required, set to "" if not using)
#
# Airtable Database:
#   AIRTABLE_API_KEY       - Airtable Personal Access Token (required)
#   AIRTABLE_BASE_ID       - Airtable base ID (required)
#   AIRTABLE_TABLE_NAME    - Airtable table name (required)
#
# Email Notifications:
#   EMAIL_API_KEY          - Email service API key (required)
#   EMAIL_SERVICE          - Email provider identifier (required)
#   NOTIFICATION_EMAIL     - Recipient for notifications (required)
#   FROM_EMAIL             - Verified sender address (required)
